var f=Object.defineProperty,l=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var u=(e,t,r)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))R.call(t,r)&&u(e,r,t[r]);if(c)for(var r of c(t))g.call(t,r)&&u(e,r,t[r]);return e},m=(e,t)=>l(e,w(t));import{_ as j,j as s,a as y}from"./index.2e39aa0a.js";import{g as b,b as v,e as M,h as S}from"./hoc.faed4dd2.js";import x from"./index.a618a0c0.js";import"./vendor.1045acf8.js";import"https://unpkg.com/react-dnd@14.0.5/dist/umd/ReactDnD.min.js";import"https://unpkg.com/react-dnd-html5-backend@14.0.2/dist/umd/ReactDnDHTML5Backend.min.js";import"https://unpkg.com/@arco-design/web-react@2.55.0/dist/arco.min.js";import"https://unpkg.com/@arco-design/web-react@2.55.0/dist/arco-icon.min.js";import"https://wizui-assets.oss-cn-hangzhou.aliyuncs.com/umd/arco.min.js";import"./index.716b61fb.js";import"./1d4eb3kqu.cb22cad3.js";import"./index.ab4c0410.js";import"https://static-s.gaiaworkforce.com/formPlatForm/umdjs/monaco/index.min.js";function i(e,t,r){return t=P(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){var t=_(e,"string");return typeof t=="symbol"?t:String(t)}function _(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class D{constructor(){i(this,"routes",[]),i(this,"setRoutes",t=>{this.routes=b(t,(r,o)=>{const{paths:n}=o||{};return m(d({},r),{paths:`${n?`${n}/`:"/"}${r.path}`})})}),i(this,"init",async()=>{await this.getMenuList()}),i(this,"getMenuList",async()=>v.post("/apijson/get",{"Menu[]":{count:0,Menu:{"@order":"sort+"}}}).then(t=>{this.setRoutes(M(t.Menu))}))}}var p=new D;const I=window.React.useEffect,a=window.React.useMemo,O=window.React.useState,E=window.ReactRouterDOM.HashRouter,k=window.ReactRouterDOM.Switch,h=window.ReactRouterDOM.Route,H=window.ReactRouterDOM.Redirect,T=window.ReactRouterDOM.useHistory,L=window.arco.Spin;localStorage.getItem("tenant");function A(e){const t=[];function r(o){o.forEach(n=>{Array.isArray(n.children)&&n.children.length&&r(n.children),n.pageId&&(n.component=()=>s(x,{pageId:n.pageId},n.pageId),t.push(n))})}return r(e),t}const $=()=>{const e=a(()=>A(p.routes),[]);S.history=T();const t=a(()=>e.length?e[0].paths:"/",[e]),r=a(()=>e.map((o,n)=>s(h,{path:o.paths,component:o.component},n)),[e]);return y(k,{children:[r,s(h,{exact:!0,path:"/",children:s(H,{to:t})})]})},Y=()=>{const[e,t]=O(!1);return I(()=>{p.init().then(async()=>{await j(()=>import("./init.bb4a7f62.js"),["assets/init.bb4a7f62.js","assets/init.f1a01511.css","assets/index.716b61fb.js","assets/index.f68a6001.css","assets/index.2e39aa0a.js","assets/index.b4b56f08.css","assets/vendor.1045acf8.js","assets/1d4eb3kqu.cb22cad3.js","assets/hoc.faed4dd2.js","assets/index.ab4c0410.js"]),t(!0)})},[]),e?s(E,{basename:"/view",children:s($,{})}):s(L,{})};export{Y as default};

var nr=Object.defineProperty,ir=Object.defineProperties;var ar=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var qe=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var Ve=(e,t,r)=>t in e?nr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))qe.call(t,r)&&Ve(e,r,t[r]);if(X)for(var r of X(t))Ke.call(t,r)&&Ve(e,r,t[r]);return e},y=(e,t)=>ir(e,ar(t));var He=(e,t)=>{var r={};for(var n in e)qe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&X)for(var n of X(e))t.indexOf(n)<0&&Ke.call(e,n)&&(r[n]=e[n]);return r};import sr from"https://wizui-assets.oss-cn-hangzhou.aliyuncs.com/umd/arco.min.js";import{_ as Y,j as O}from"./index.0420ae1d.js";function Ki(e){return Object.prototype.toString.call(e)==="[object Array]"}function ge(e){return typeof e=="function"}function Vi(e){return typeof e=="object"&&ge(e.then)&&ge(e.catch)&&ge(e.finally)}function Hi(e){return e.indexOf("function(")!==-1||/\)\s*=>\s*\{/.test(e)}function Ji(e){return e&&typeof e=="string"&&e.indexOf("${")!==-1}function Wi(e){return e&&typeof e=="string"&&/^\$t{.+}$/.test(e)}const we=function(){try{return!(typeof window!="undefined"&&document!==void 0)}catch{return!0}}(),or=window.React.useEffect,ur=window.React.useState,Je=e=>{if(!we)return localStorage.getItem(e)},We=(e,t)=>{if(!we)localStorage.setItem(e,t);else return t},cr=e=>{we||localStorage.removeItem(e)};function Gi(e,t){const[r,n]=ur(Je(e)||t),a=s=>{We(e,s),n(s)},i=()=>{cr(e),n(void 0)};return or(()=>{const s=localStorage.getItem(e);s&&n(s)},[]),[r,a,i]}const lr=!1,fr=!0,dr=!0,pr=!1,mr="#165DFF",hr=220;var br={colorWeek:lr,navbar:fr,menu:dr,footer:pr,themeColor:mr,menuWidth:hr},w,Ge,Xe,Ye,Qe,Ze,et,tt;function _(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function yr(e,t,r){return t=vr(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vr(e){var t=gr(e,"string");return typeof t=="symbol"?t:String(t)}function gr(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(s,o){return o(e,t,s)||s},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}const Q=window.mobx.observable,Z=window.mobx.action;let wr=(w=class{constructor(){yr(this,"theme",void 0),_(this,"settings",Ge,this),_(this,"setSettings",Xe,this),_(this,"isLoginVisible",Ye,this),_(this,"userInfo",Qe,this),_(this,"setUserInfo",Ze,this),_(this,"userLoading",et,this),_(this,"setUserLoading",tt,this)}setIsLoginVisible(t){this.isLoginVisible=t}},Ge=D(w.prototype,"settings",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return br}}),Xe=D(w.prototype,"setSettings",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.settings=e}}}),Ye=D(w.prototype,"isLoginVisible",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D(w.prototype,"setIsLoginVisible",[Z],Object.getOwnPropertyDescriptor(w.prototype,"setIsLoginVisible"),w.prototype),Qe=D(w.prototype,"userInfo",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{permissions:{}}}}),Ze=D(w.prototype,"setUserInfo",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.userInfo=e}}}),et=D(w.prototype,"userLoading",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=D(w.prototype,"setUserLoading",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.userLoading=e}}}),w);var rt=new wr,Ee;(function(e){e.pc="PC",e.taro="Taro",e.dashboard="Dashboard"})(Ee||(Ee={}));var nt;(function(e){e.html="html",e.system="system",e.custom="custom",e.context="context"})(nt||(nt={}));var it;(function(e){e.General="\u901A\u7528",e.Layout="\u5E03\u5C40",e.DataDisplay="\u6570\u636E\u5C55\u793A",e.DataEntry="\u6570\u636E\u5F55\u5165",e.Feedback="\u53CD\u9988",e.Navigation="\u5BFC\u822A",e.Others="\u5176\u4ED6"})(it||(it={}));var at;(function(e){e.block="\u5757\u7EA7\u5143\u7D20",e.inline="\u5185\u8054\u5143\u7D20"})(at||(at={}));function Er(){const e=window.monaco;Je("arco-theme")==="dark"?(e&&e.editor.setTheme("custom-dard"),document.body.setAttribute("arco-theme","dark")):(e&&e.editor.setTheme("vs"),document.body.removeAttribute("arco-theme"))}var S,st,ot;function ut(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function T(e,t,r){return t=Sr(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sr(e){var t=Ar(e,"string");return typeof t=="symbol"?t:String(t)}function Ar(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ee(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(s,o){return o(e,t,s)||s},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}const Or=window.mobx.action,ct=window.mobx.computed,$r=window.mobx.observable,xr=window.mobx.toJS;let Dr=(S=class{constructor(){T(this,"verison",void 0),T(this,"appId","gtssForm"),T(this,"tenantId",""),T(this,"platform",Ee.pc),T(this,"theme",void 0),T(this,"userId",""),T(this,"setTheme",t=>{this.theme=t,We("arco-theme",t),Er()}),ut(this,"data",st,this),ut(this,"setData",ot,this)}get appData(){return{data:xr(this.data)}}get appDataSchema(){return{type:"object",properties:{appId:{type:"string",description:"\u5E94\u7528ID"}}}}},st=ee(S.prototype,"data",[$r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ot=ee(S.prototype,"setData",[Or],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.data=e}}}),ee(S.prototype,"appData",[ct],Object.getOwnPropertyDescriptor(S.prototype,"appData"),S.prototype),ee(S.prototype,"appDataSchema",[ct],Object.getOwnPropertyDescriptor(S.prototype,"appDataSchema"),S.prototype),S);var I=new Dr,Se={exports:{}},lt=function(t,r){return function(){for(var a=new Array(arguments.length),i=0;i<a.length;i++)a[i]=arguments[i];return t.apply(r,a)}},Pr=lt,k=Object.prototype.toString;function Ae(e){return k.call(e)==="[object Array]"}function Oe(e){return typeof e=="undefined"}function Cr(e){return e!==null&&!Oe(e)&&e.constructor!==null&&!Oe(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function _r(e){return k.call(e)==="[object ArrayBuffer]"}function Tr(e){return typeof FormData!="undefined"&&e instanceof FormData}function kr(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function Rr(e){return typeof e=="string"}function Br(e){return typeof e=="number"}function ft(e){return e!==null&&typeof e=="object"}function te(e){if(k.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Ir(e){return k.call(e)==="[object Date]"}function Lr(e){return k.call(e)==="[object File]"}function Ur(e){return k.call(e)==="[object Blob]"}function dt(e){return k.call(e)==="[object Function]"}function Fr(e){return ft(e)&&dt(e.pipe)}function zr(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function Nr(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function jr(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function $e(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),Ae(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function xe(){var e={};function t(a,i){te(e[i])&&te(a)?e[i]=xe(e[i],a):te(a)?e[i]=xe({},a):Ae(a)?e[i]=a.slice():e[i]=a}for(var r=0,n=arguments.length;r<n;r++)$e(arguments[r],t);return e}function Mr(e,t,r){return $e(t,function(a,i){r&&typeof a=="function"?e[i]=Pr(a,r):e[i]=a}),e}function qr(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var v={isArray:Ae,isArrayBuffer:_r,isBuffer:Cr,isFormData:Tr,isArrayBufferView:kr,isString:Rr,isNumber:Br,isObject:ft,isPlainObject:te,isUndefined:Oe,isDate:Ir,isFile:Lr,isBlob:Ur,isFunction:dt,isStream:Fr,isURLSearchParams:zr,isStandardBrowserEnv:jr,forEach:$e,merge:xe,extend:Mr,trim:Nr,stripBOM:qr},L=v;function pt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var mt=function(t,r,n){if(!r)return t;var a;if(n)a=n(r);else if(L.isURLSearchParams(r))a=r.toString();else{var i=[];L.forEach(r,function(c,d){c===null||typeof c=="undefined"||(L.isArray(c)?d=d+"[]":c=[c],L.forEach(c,function(l){L.isDate(l)?l=l.toISOString():L.isObject(l)&&(l=JSON.stringify(l)),i.push(pt(d)+"="+pt(l))}))}),a=i.join("&")}if(a){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t},Kr=v;function re(){this.handlers=[]}re.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};re.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};re.prototype.forEach=function(t){Kr.forEach(this.handlers,function(n){n!==null&&t(n)})};var Vr=re,Hr=v,Jr=function(t,r){Hr.forEach(t,function(a,i){i!==r&&i.toUpperCase()===r.toUpperCase()&&(t[r]=a,delete t[i])})},ht=function(t,r,n,a,i){return t.config=r,n&&(t.code=n),t.request=a,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},Wr=ht,bt=function(t,r,n,a,i){var s=new Error(t);return Wr(s,r,n,a,i)},Gr=bt,Xr=function(t,r,n){var a=n.config.validateStatus;!n.status||!a||a(n.status)?t(n):r(Gr("Request failed with status code "+n.status,n.config,null,n.request,n))},ne=v,Yr=ne.isStandardBrowserEnv()?function(){return{write:function(r,n,a,i,s,o){var c=[];c.push(r+"="+encodeURIComponent(n)),ne.isNumber(a)&&c.push("expires="+new Date(a).toGMTString()),ne.isString(i)&&c.push("path="+i),ne.isString(s)&&c.push("domain="+s),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Qr=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},Zr=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},en=Qr,tn=Zr,rn=function(t,r){return t&&!en(r)?tn(t,r):r},De=v,nn=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],an=function(t){var r={},n,a,i;return t&&De.forEach(t.split(`
`),function(o){if(i=o.indexOf(":"),n=De.trim(o.substr(0,i)).toLowerCase(),a=De.trim(o.substr(i+1)),n){if(r[n]&&nn.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([a]):r[n]=r[n]?r[n]+", "+a:a}}),r},yt=v,sn=yt.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function a(i){var s=i;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=a(window.location.href),function(s){var o=yt.isString(s)?a(s):s;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function Pe(e){this.message=e}Pe.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Pe.prototype.__CANCEL__=!0;var ie=Pe,ae=v,on=Xr,un=Yr,cn=mt,ln=rn,fn=an,dn=sn,Ce=bt,pn=oe,mn=ie,vt=function(t){return new Promise(function(n,a){var i=t.data,s=t.headers,o=t.responseType,c;function d(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}ae.isFormData(i)&&delete s["Content-Type"];var u=new XMLHttpRequest;if(t.auth){var l=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.Authorization="Basic "+btoa(l+":"+p)}var m=ln(t.baseURL,t.url);u.open(t.method.toUpperCase(),cn(m,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function H(){if(!!u){var E="getAllResponseHeaders"in u?fn(u.getAllResponseHeaders()):null,B=!o||o==="text"||o==="json"?u.responseText:u.response,C={data:B,status:u.status,statusText:u.statusText,headers:E,config:t,request:u};on(function(ve){n(ve),d()},function(ve){a(ve),d()},C),u=null}}if("onloadend"in u?u.onloadend=H:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(H)},u.onabort=function(){!u||(a(Ce("Request aborted",t,"ECONNABORTED",u)),u=null)},u.onerror=function(){a(Ce("Network Error",t,null,u)),u=null},u.ontimeout=function(){var B=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",C=t.transitional||pn.transitional;t.timeoutErrorMessage&&(B=t.timeoutErrorMessage),a(Ce(B,t,C.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},ae.isStandardBrowserEnv()){var x=(t.withCredentials||dn(m))&&t.xsrfCookieName?un.read(t.xsrfCookieName):void 0;x&&(s[t.xsrfHeaderName]=x)}"setRequestHeader"in u&&ae.forEach(s,function(B,C){typeof i=="undefined"&&C.toLowerCase()==="content-type"?delete s[C]:u.setRequestHeader(C,B)}),ae.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(c=function(E){!u||(a(!E||E&&E.type?new mn("canceled"):E),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c))),i||(i=null),u.send(i)})},b=v,gt=Jr,hn=ht,bn={"Content-Type":"application/x-www-form-urlencoded"};function wt(e,t){!b.isUndefined(e)&&b.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function yn(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=vt),e}function vn(e,t,r){if(b.isString(e))try{return(t||JSON.parse)(e),b.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var se={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:yn(),transformRequest:[function(t,r){return gt(r,"Accept"),gt(r,"Content-Type"),b.isFormData(t)||b.isArrayBuffer(t)||b.isBuffer(t)||b.isStream(t)||b.isFile(t)||b.isBlob(t)?t:b.isArrayBufferView(t)?t.buffer:b.isURLSearchParams(t)?(wt(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):b.isObject(t)||r&&r["Content-Type"]==="application/json"?(wt(r,"application/json"),vn(t)):t}],transformResponse:[function(t){var r=this.transitional||se.transitional,n=r&&r.silentJSONParsing,a=r&&r.forcedJSONParsing,i=!n&&this.responseType==="json";if(i||a&&b.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(i)throw s.name==="SyntaxError"?hn(s,this,"E_JSON_PARSE"):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};b.forEach(["delete","get","head"],function(t){se.headers[t]={}});b.forEach(["post","put","patch"],function(t){se.headers[t]=b.merge(bn)});var oe=se,gn=v,wn=oe,En=function(t,r,n){var a=this||wn;return gn.forEach(n,function(s){t=s.call(a,t,r)}),t},Et=function(t){return!!(t&&t.__CANCEL__)},St=v,_e=En,Sn=Et,An=oe,On=ie;function Te(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new On("canceled")}var $n=function(t){Te(t),t.headers=t.headers||{},t.data=_e.call(t,t.data,t.headers,t.transformRequest),t.headers=St.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),St.forEach(["delete","get","head","post","put","patch","common"],function(a){delete t.headers[a]});var r=t.adapter||An.adapter;return r(t).then(function(a){return Te(t),a.data=_e.call(t,a.data,a.headers,t.transformResponse),a},function(a){return Sn(a)||(Te(t),a&&a.response&&(a.response.data=_e.call(t,a.response.data,a.response.headers,t.transformResponse))),Promise.reject(a)})},g=v,At=function(t,r){r=r||{};var n={};function a(u,l){return g.isPlainObject(u)&&g.isPlainObject(l)?g.merge(u,l):g.isPlainObject(l)?g.merge({},l):g.isArray(l)?l.slice():l}function i(u){if(g.isUndefined(r[u])){if(!g.isUndefined(t[u]))return a(void 0,t[u])}else return a(t[u],r[u])}function s(u){if(!g.isUndefined(r[u]))return a(void 0,r[u])}function o(u){if(g.isUndefined(r[u])){if(!g.isUndefined(t[u]))return a(void 0,t[u])}else return a(void 0,r[u])}function c(u){if(u in r)return a(t[u],r[u]);if(u in t)return a(void 0,t[u])}var d={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c};return g.forEach(Object.keys(t).concat(Object.keys(r)),function(l){var p=d[l]||i,m=p(l);g.isUndefined(m)&&p!==c||(n[l]=m)}),n},Ot={version:"0.24.0"},xn=Ot.version,ke={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){ke[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var $t={};ke.transitional=function(t,r,n){function a(i,s){return"[Axios v"+xn+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return function(i,s,o){if(t===!1)throw new Error(a(s," has been removed"+(r?" in "+r:"")));return r&&!$t[s]&&($t[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,s,o):!0}};function Dn(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),a=n.length;a-- >0;){var i=n[a],s=t[i];if(s){var o=e[i],c=o===void 0||s(o,i,e);if(c!==!0)throw new TypeError("option "+i+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+i)}}var Pn={assertOptions:Dn,validators:ke},xt=v,Cn=mt,Dt=Vr,Pt=$n,ue=At,Ct=Pn,U=Ct.validators;function J(e){this.defaults=e,this.interceptors={request:new Dt,response:new Dt}}J.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=ue(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&Ct.assertOptions(r,{silentJSONParsing:U.transitional(U.boolean),forcedJSONParsing:U.transitional(U.boolean),clarifyTimeoutError:U.transitional(U.boolean)},!1);var n=[],a=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(t)===!1||(a=a&&p.synchronous,n.unshift(p.fulfilled,p.rejected))});var i=[];this.interceptors.response.forEach(function(p){i.push(p.fulfilled,p.rejected)});var s;if(!a){var o=[Pt,void 0];for(Array.prototype.unshift.apply(o,n),o=o.concat(i),s=Promise.resolve(t);o.length;)s=s.then(o.shift(),o.shift());return s}for(var c=t;n.length;){var d=n.shift(),u=n.shift();try{c=d(c)}catch(l){u(l);break}}try{s=Pt(c)}catch(l){return Promise.reject(l)}for(;i.length;)s=s.then(i.shift(),i.shift());return s};J.prototype.getUri=function(t){return t=ue(this.defaults,t),Cn(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};xt.forEach(["delete","get","head","options"],function(t){J.prototype[t]=function(r,n){return this.request(ue(n||{},{method:t,url:r,data:(n||{}).data}))}});xt.forEach(["post","put","patch"],function(t){J.prototype[t]=function(r,n,a){return this.request(ue(a||{},{method:t,url:r,data:n}))}});var _n=J,Tn=ie;function F(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(a){t=a});var r=this;this.promise.then(function(n){if(!!r._listeners){var a,i=r._listeners.length;for(a=0;a<i;a++)r._listeners[a](n);r._listeners=null}}),this.promise.then=function(n){var a,i=new Promise(function(s){r.subscribe(s),a=s}).then(n);return i.cancel=function(){r.unsubscribe(a)},i},e(function(a){r.reason||(r.reason=new Tn(a),t(r.reason))})}F.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};F.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};F.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};F.source=function(){var t,r=new F(function(a){t=a});return{token:r,cancel:t}};var kn=F,Rn=function(t){return function(n){return t.apply(null,n)}},Bn=function(t){return typeof t=="object"&&t.isAxiosError===!0},_t=v,In=lt,ce=_n,Ln=At,Un=oe;function Tt(e){var t=new ce(e),r=In(ce.prototype.request,t);return _t.extend(r,ce.prototype,t),_t.extend(r,t),r.create=function(a){return Tt(Ln(e,a))},r}var A=Tt(Un);A.Axios=ce;A.Cancel=ie;A.CancelToken=kn;A.isCancel=Et;A.VERSION=Ot.version;A.all=function(t){return Promise.all(t)};A.spread=Rn;A.isAxiosError=Bn;Se.exports=A;Se.exports.default=A;var le=Se.exports;let kt="d3VRYzJKUmFxem1S",$;const Re="https://wizui-test-node-ko-apijson-pnnrmtijvi.cn-hangzhou.fcapp.run/codes",Fn=async()=>{const e="store-public-key";if(!$){const t=localStorage.getItem($);if(t)return $=t,le.get(Re+"/publicKey",{}).then(({data:r})=>{$=r.data,localStorage.setItem(e,$)}),$;await le.get(Re+"/publicKey",{}).then(({data:r})=>{$=r.data,localStorage.setItem(e,$)})}return $},zn=async function(e){const t=await Y(()=>import("./index.b066246f.js").then(function(i){return i.i}),["assets/index.b066246f.js","assets/vendor.96977194.js","assets/p9dlhpru.1263e167.js"]),r=await Fn(),a=t.pki.publicKeyFromPem(r).encrypt(e,"RSA-OAEP");return t.util.encode64(a)};async function Nn(e=16){const t=await Y(()=>import("./index.b066246f.js").then(function(a){return a.i}),["assets/index.b066246f.js","assets/vendor.96977194.js","assets/p9dlhpru.1263e167.js"]),r=t.random.getBytesSync(e);return t.util.bytesToHex(r).slice(0,e)}const Rt=e=>new Array(16).fill(e).join("").slice(0,16),Bt=async(e,t)=>{const r=await Y(()=>import("./index.b066246f.js").then(function(c){return c.i}),["assets/index.b066246f.js","assets/vendor.96977194.js","assets/p9dlhpru.1263e167.js"]),n=r.util.createBuffer(kt).getBytes(),a=r.util.createBuffer(e).getBytes(),i=r.cipher.createCipher("AES-CBC",a);i.start({iv:n}),i.update(r.util.createBuffer(JSON.stringify({data:t}))),i.finish();const s=i.output.getBytes();return r.util.bytesToHex(s)},It=async(e,t,r=kt)=>{const n=await Y(()=>import("./index.b066246f.js").then(function(d){return d.i}),["assets/index.b066246f.js","assets/vendor.96977194.js","assets/p9dlhpru.1263e167.js"]),a=n.util.createBuffer(Rt(r)).getBytes(),i=n.util.hexToBytes(t),s=n.util.createBuffer(Rt(e)).getBytes(),o=n.cipher.createDecipher("AES-CBC",s);return o.start({iv:a}),o.update(n.util.createBuffer(i)),o.finish(),JSON.parse(o.output.data).data},Be=window._,Qi="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");function Zi(e){if(!Array.isArray(e))return;const t=e.filter(r=>!r.name);return{type:"object",properties:f({},t.reduce((r,n)=>Be.assign(r,{[n.name]:{type:"object",description:n.description||n.label||""}}),{}))}}const z=(e,t=["$"],{key:r=t[0],schemaPath:n=t,parent:a=null}={})=>{const i={id:Mn(),type:e.type,path:t,schemaPath:n,key:r,_store:e};switch(e.type){case"array":if(e.items)if(Array.isArray(e.items))i.children=e.items.map((s,o)=>z(s,[...t,o.toString()],{key:`${o}`,parent:e,schemaPath:[...n,"items",o.toString()]}));else if(e.items.type==="object"&&e.items.properties){const s=e.items.properties,o=Object.keys(s);i.children=o.map(c=>z(s[c],[...t,"0",c],{key:c,parent:e,schemaPath:[...n,"items","properties",c]}))}else i.children=[z(e.items,[...t,"0"],{key:"0",parent:e,schemaPath:[...n,"items"]})];break;case"object":if(e.properties){const s=e.properties,o=Object.keys(s);i.children=o.map(c=>z(s[c],[...t,c],{key:c,parent:e,schemaPath:[...n,"properties",c]}))}break}return i},ea=(e,t={})=>{const{children:r=[]}=z(e);return r.map(n=>{const{_store:a,key:i}=n,{title:s,type:o,enum:c,widget:d,format:u,default:l}=a;return{key:i,label:s||i,value:t[i]||l,format:u}})},Lt=(e,t,r={})=>{if(!e||typeof e=="string")return e;const n=e.default;let a=n;switch(e.type){case"string":a=n;break;case"object":const i=e.properties;i&&(a={},Object.keys(i).forEach(s=>{const o=Lt(i[s]);(o!==void 0||r.isNull)&&(a[s]=o)}));break;case"array":n&&Array.isArray(n)?a=n:e.items&&(Array.isArray(e.items)?a=e.items.map(s=>Lt(s)):a=[]);break;case"integer":case"number":a=n;break;case"null":a=null;break}return a},Ie=(e,t={})=>{const r={type:"object"},n=typeof e;switch(n){case"bigint":r.type="integer";break;case"boolean":r.type="boolean";break;case"number":r.type="number";break;case"object":if(r.type="object",!e)r.type="null";else if(Array.isArray(e)){r.type="array";const a=e;if(a.length)if(Array.from(new Set(a.map(s=>typeof s))).length===1){let s=a[0];if(typeof s=="object"&&!Array.isArray(s)&&(s=a.reduce((o,c)=>Object.assign(o,c),{})),r.items=Ie(s,Array.isArray(t==null?void 0:t.items)?t==null?void 0:t.items[0]:t==null?void 0:t.items),r.items.type==="object"){const o=r.items.properties;o&&(r.items.required=Object.keys(o).filter(c=>a.every(d=>c in d)))}}else r.items=a.map((s,o)=>Ie(s,Array.isArray(t==null?void 0:t.items)?t==null?void 0:t.items[o]:o===1?t==null?void 0:t.items:void 0));else r.items=t.items}else{const a={};Object.keys(e).forEach(i=>{a[i]=Ie(e[i],(t==null?void 0:t.properties)?t.properties[i]:void 0)}),r.properties=a}break;case"string":r.type="string";break;case"undefined":r.type="string";break}return(t==null?void 0:t.type)===r.type&&Be.assign(r,Be.omit(t,["properties","items"])),(n!=="object"||Array.isArray(e))&&(r.default=e),r},Ut=window._,jn=window.arco.Modal,Mn=e=>{function t(){return((1+Math.random())*65536|0).toString(16).substring(1)}return e==="hash"?`${t()}${t()}`:t()+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},ta=async e=>{try{return await navigator.clipboard.writeText(e),!0}catch{return new Promise(r=>{const n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("Copy"),document.body.removeChild(n),r(!0)})}},Ft=()=>{jn.confirm({title:"\u63D0\u793A",content:"\u60A8\u5F53\u524D\u8FD8\u672A\u767B\u9646\uFF0C\u70B9\u51FB\u53BB\u767B\u9646\u8D26\u53F7",onOk:()=>{window.open("https://wfm-s.gaiaworkforce.com/")}})},ra=e=>{let t=!1;return(...r)=>{if(!t)return e(...r).finally(()=>{t=!1})}},na=(e,t=300)=>{let r=null;return(...n)=>{r&&clearTimeout(r),r=setTimeout(()=>e(...n),t)}};function qn(e,t="id",r="parentId"){const n={},a=[];for(let i=0;i<e.length;i++){const{[t]:s}=e[i],o=[];n[s]=y(f({},e[i]),{children:o})}for(let i=0;i<e.length;i++){const{[t]:s,[r]:o}=e[i],c=n[o];c?c.children.push(n[s]):a.push(n[s])}return a}function ia(e,t,r="id"){let n=null;const a=i=>{for(const s of i){if(s[r]===t){n=s;break}s.children&&a(s.children)}};return a(e),n}function Kn(e,t){const r=(n,a=null)=>{const i=[];for(const s of n){let o={};typeof t=="function"?o=t(s,a):t.forEach(c=>{s[c]&&(o[c]=s[c])}),Array.isArray(s.children)&&s.children.length>0&&(o.children=r(s.children,o)),i.push(o)}return i};return r(e)}function Vn(e,t){return e.map(r=>{if(t(r))return r;if(r.children){const n=Vn(r.children,t);if(n.length>0)return y(f({},r),{children:n,toggled:!0})}return null}).filter(r=>r!==null)}const aa=(e,t)=>{if(!t||!e)return"";const r=e.substring(e.indexOf("?")+1).split(/[&=]/),n=r.indexOf(t);return n!==-1&&n%2==0?decodeURIComponent(r[n+1]):""};function sa(e,t){let r=t;typeof r=="string"&&(r=r.split(/\.|\[|\]\.?/).filter(a=>a!==""));let n=e;for(const a of r)if(n&&n.properties&&n.properties[a])n=n.properties[a];else if(n&&n.items)if(Array.isArray(n.items)){const i=parseInt(a,10);if(!isNaN(i)&&n.items[i])n=n.items[i];else{n=null;break}}else n.items.properties&&n.items.properties[a]?n=n.items.properties[a]:n=n.items;else{n=null;break}return n}const oa=e=>{if(!e&&!e.properties)return e;const t={type:"object",properties:{}},r=Object.keys(e.properties);for(const n of r){const a=e.properties[n],i=f({},a),{format:s}=a;switch(s){case"date":i.type="array",i.format="dateRange";break;case"dateTime":i.type="array",i.format="dateRange",i.fieldProps=y(f({},a.fieldProps),{showTime:!0});break;case"time":i.type="array",i.format="time",i.fieldProps=y(f({},a.fieldProps),{showTime:!0});break;default:if(a.type=="array"&&a.enum){let o=a.enum;typeof a.enum[0]=="object"&&(o=a.enum.map(c=>c.value)),i.enum=o}}t.properties[n]=i}return t},ua=e=>{const t=z(e).children||[];return(n=>n?n.map(a=>{const{_store:i,key:s}=a,{title:o,type:c,enum:d,widget:u,columnProps:l,format:p}=i;return c=="object"?null:f({title:o||s,align:["number","integer"].includes(c)?"right":"left",dataIndex:s,widget:u,valueEnum:d&&d.reduce((H,x)=>typeof x=="object"?Ut.assign(H,{[x.value]:x}):Ut.assign(H,{[x]:{label:x}}),{})},l)}).filter(a=>a):[])(t)};function ca(e,t){let r=t?document.getElementById(t):null;r||(r=document.createElement("style"),r.type="text/css",r.setAttribute("id",t),r.innerHTML=e,document.head.appendChild(r)),r.innerHTML=e}function la(e){const r=e.toLowerCase().split("_");return r[0]+r.slice(1).map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join("")}const Hn=e=>new Promise((t,r)=>{const n=document.createElement("script");n.src=e,n.setAttribute("type","module"),n.onload=a=>{t(!0)},n.onerror=r,document.head.appendChild(n)}),Le=window.arco.Message,zt=window._,Nt=async(e,t)=>{const r={appid:I.appId,tenantid:I.tenantId,userid:I.userId};Jt.userToken&&(r.Authorization=`Bearer ${Jt.userToken}`);let n;if(t.encrypt||t.decrypt){if(n=await Nn(16),t.encrypt){if(t.encrypt==="all")e={data:await Bt(n,e)};else for(const a of t.encrypt){const i=zt.get(e,a);i&&zt.set(e,a,await Bt(n,i))}r.encrypt=Array.isArray(t.encrypt)?t.encrypt.join(","):t.encrypt}r.encryptkey=await zn(n)}return{cryptKey:n,headers:r,body:e}},Ue={},fe=async(e="get",t,r,n={})=>{const{cryptKey:a,headers:i,body:s}=await Nt(f({},r),n);let o=t.slice(0,4)=="http"?t:Re+t;n.notHttp&&(o=t);const c=`apiKey-${JSON.stringify(s)}`;if(n.cache&&Ue[c])return Ue[c];const d=new Promise((u,l)=>{le.request({method:e,url:o,params:["get","delete"].includes(e)?s:void 0,data:s,headers:Object.assign(i,n.headers||{})}).then(async p=>{let m=p.data;if(n.decrypt&&(m=await It(a,m)),typeof m=="object"&&"code"in m){if(m.code===0)return u(m);l(m),m.msg&&Le.error(m.msg)}(p.status===401||p.status===800)&&Ft(),u(m)}).catch(p=>{const m=p.response&&p.response.data;typeof m=="object"&&(m.code===401?Ft():m.msg&&Le.error(m.msg)),l(p)})});return Ue[c]=d,d};var de={post:(e,t,r)=>fe("post",e,t,r),get:(e,t,r)=>fe("get",e,t,r),del:(e,t,r)=>fe("delete",e,t,r),put:(e,t,r)=>fe("put",e,t,r),request:async(e="GET",t,r={},n={})=>{let a=r;const{cryptKey:i,headers:s}=await Nt(a,n),o=t.indexOf("http")!==-1?t:`/wizapi${t}`;return new Promise((c,d)=>{le.request({method:e,url:o,data:a,headers:Object.assign(s,n.headers||{})}).then(async u=>{let l=u.data;n.decrypt&&(l=await It(i,l)),c(y(f({},u),{data:l}))}).catch(u=>{const l=u.response&&u.response.data;typeof l=="object"&&l.msg&&Le.error(l.msg),c(u.response)})})}};const Jn=window;var Wn=f({ENV:"local",CDNURL:"https://wizui-assets.oss-cn-hangzhou.aliyuncs.com",TokenKey:"TS-CODE-AUTH_TOKEN"},Jn.publicConfig||{});const Gn=window;var Xn=f(y(f({},Wn),{ENV:"prod",CDNURL:"https://wizui-assets.oss-cn-hangzhou.aliyuncs.com"}),Gn.publicConfig||{}),P,jt,Mt,qt,Kt,Vt,Ht;function N(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Fe(e,t,r){return t=Yn(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yn(e){var t=Qn(e,"string");return typeof t=="symbol"?t:String(t)}function Qn(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(s,o){return o(e,t,s)||s},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}const ze=window.mobx.action,Ne=window.mobx.observable,pe=Xn.TokenKey;let Zn=(P=class{constructor(){Fe(this,"userToken",this.getToken()),Fe(this,"setUserToken",t=>{this.userToken=t,this.setToken(t),localStorage.setItem("userStatus","login")}),N(this,"user",jt,this),N(this,"setUserInfo",Mt,this),N(this,"publishReady",qt,this),N(this,"isLoaging",Kt,this),Fe(this,"getUserToken",async()=>de.post("/user/getUserToken",{user:this.user},{encrypt:"all"}).then(t=>{this.setUserToken(t.data.token),rt.setUserLoading(!0)})),N(this,"onLogin",Vt,this),N(this,"getUserInfo",Ht,this)}getToken(){const t=localStorage.getItem(`${pe}-express`),r=localStorage[pe];if(r&&t&&Date.now().toString()<t)return r}setToken(t,r=6){localStorage.setItem(pe,t);const n=r*3600*1e3+Date.now();localStorage.setItem(`${pe}-express`,n.toString())}},jt=j(P.prototype,"user",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Mt=j(P.prototype,"setUserInfo",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.user=e,I.userId=e.userID,I.tenantId=e.tenant,I.appId=e.tenant,rt.setUserLoading(!0)}}}),qt=j(P.prototype,"publishReady",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kt=j(P.prototype,"isLoaging",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vt=j(P.prototype,"onLogin",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{this.setUserInfo(e),this.getUserToken()}}}),Ht=j(P.prototype,"getUserInfo",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{}}}),P);var Jt=new Zn;const ei=window.React,Wt=ei.createContext(null),ti=window.React,ri=window.React.memo,ni=window.arcoicon;var ii=ri(r=>{var n=r,{value:e}=n,t=He(n,["value"]);const a=ni[e];return e&&typeof e=="object"?ti.cloneElement(e,t):a?O(a,f({},t)):O("span",{})});const ai=window._,si=window.arco,oi=sr,ui=oi.reduce((e,t)=>y(f({},e),{[t.key]:ai.get(si,t.name)}),{system_icon:ii}),ci={system_pagecontext:Wt};var Gt;(function(e){e.api="api",e.traverse="traverse",e.filter="filter"})(Gt||(Gt={}));var M;(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"})(M||(M={}));var h;(function(e){e.history="history",e.href="href",e.message="message",e.form="form",e.table="table",e.busItem="busItem",e.dialog="dialog",e.api="api",e.task="task",e.download="download"})(h||(h={}));const da=[{value:h.history,label:"\u8DEF\u7531"},{value:h.href,label:"\u8D85\u94FE\u63A5"},{value:h.message,label:"\u63D0\u793A"},{value:h.form,label:"\u4E1A\u52A1\u8868\u5355"},{value:h.table,label:"\u9AD8\u7EA7\u8868\u683C"},{value:h.busItem,label:"\u4E1A\u52A1\u5B50\u8868"},{value:h.dialog,label:"\u5BF9\u8BDD\u6846"},{value:h.api,label:"\u63A5\u53E3"},{value:h.task,label:"\u4EFB\u52A1\u7F16\u6392"},{value:h.download,label:"\u4E0B\u8F7D"}],pa=[{label:"get",value:M.GET},{label:"post",value:M.POST},{label:"put",value:M.PUT},{label:"del",value:M.DELETE}];var R;(function(e){e.push="push",e.replace="replace",e.go="go",e.goBack="goBack"})(R||(R={}));const ma=[{value:"push",label:"\u8DF3\u8F6C\u9875\u9762"},{value:"replace",label:"\u66FF\u6362\u5F53\u524D\u9875\u9762"},{value:"go",label:"\u56DE\u9000"},{value:"goBack",label:"\u56DE\u5230\u4E0A\u4E00\u9875"}];var q;(function(e){e.self="_self",e.blank="_blank",e.parent="_parent",e.top="_top"})(q||(q={}));const ha=[{value:q.self,label:"\u5F53\u524D\u9875\u9762"},{value:q.blank,label:"\u65B0\u7684\u7A97\u53E3"},{value:q.parent,label:"\u7236\u7EA7\u6D4F\u89C8\u5668"},{value:q.top,label:"\u6700\u9876\u7EA7\u6D4F\u89C8\u5668"}],ba=[{value:"success",label:"\u6210\u529F\u63D0\u793A"},{value:"error",label:"\u9519\u8BEF\u63D0\u793A"},{value:"warning",label:"\u8B66\u544A\u63D0\u793A"},{value:"tips",label:"\u4FE1\u606F\u63D0\u793A"}],ya=[{label:"\u6253\u5F00\u5F39\u7A97",value:"open"},{label:"\u5173\u95ED\u5F39\u7A97",value:"close"}],li=e=>async()=>{if(!e.history||!K.history)return;const{type:t,path:r,count:n,params:a}=e.history;switch(t){case R.goBack:K.history.goBack();break;case R.go:K.history.go(n);break;case R.push:case R.replace:let i=r;if(Array.isArray(a)){const s=a.filter(o=>o.enable&&o.name).map(o=>`${o.name}=${o.value}`);s.length&&(i=`${i}?${s.join("&")}`)}R.push===t?K.history.push(i):K.history.replace(i)}},fi=e=>async()=>{if(!e.href)return;const{target:t,params:r}=e.href;let n=e.href.url;if(!!n){if(Array.isArray(r)){const a=r.filter(i=>i.enable&&i.name).map(i=>`${i.name}=${i.value}`);a.length&&(n=`${n}?${a.join("&")}`)}window.open(n,t)}},di=e=>async()=>{if(!e.message)return;const{text:t,type:r}=e.message;window.$feedback(t,r)},pi=(e,t)=>async()=>{const{key:r,eventType:n}=e.form||{};if(!t.forms[r])throw Error(`\u5F53\u524D\u4E1A\u52A1\u8868\u5355\u4E0D\u5B58\u5728\uFF1A${r}`);const a=t.forms[r];n==="validate"?a.validate()||Promise.reject("\u8868\u5355\u6821\u9A8C\u5931\u8D25"):n==="submit"&&await a.validate()},mi=(e,t)=>async()=>{const{key:r,tableKey:n,eventType:a}=e.busItem||{};if(!t.forms[r])throw Error(`\u5F53\u524D\u4E1A\u52A1\u8868\u5355\u4E0D\u5B58\u5728\uFF1A${r}`);if(!n)throw Error("\u672A\u7ED1\u5B9A\u5B50\u8868");const i=t.forms[r];switch(a){case"add":i.data[n]?i.assign({[n]:[...i.data[n],{}]}):i.assign({[n]:[{}]});break}},hi=e=>async()=>{};function bi(e,t){return async()=>{if(!e.dialog)return;const{key:r,type:n}=e.dialog;if(t.dialogs[r]){const a=t.dialogs[r];n==="open"&&a.methods.open()}}}const yi=e=>async()=>{},vi=e=>async()=>{},gi=e=>{const t=r=>{switch(r.type){case h.history:return li(r);case h.form:return pi(r,e);case h.busItem:return mi(r,e);case h.message:return di(r);case h.api:return hi();case h.dialog:return bi(r,e);case h.download:return yi();case h.href:return fi(r);case h.task:return vi()}return()=>{alert("createEvent")}};return r=>async()=>{const{all:n}=r,a=(n||[]).map(s=>t(s));if(await t(r)(),a.length)for(const s of a)await s()}},wi=e=>{const t=e.op,r=e.value,n=e.field;switch(t){case"=":return n==r;case"!=":return n!=r;case">":return n>r;case"<":return n<r;case">=":return n>=r;case"<=":return n<=r;case"between":if(Array.isArray(r)){const[i,s]=r;return n>=i&&n<=s}else return!1;case"in":return Array.isArray(r)?r.includes(n):!1;case"link":if(typeof r=="string"){const i=new RegExp(`^${r.replace(/\%/g,".*")}$`);return n.search(i)!==-1}else return!1;case"notIn":return Array.isArray(r)?!r.includes(n):!1;case"regexp":return new RegExp(r).test(n)}return!1},Ei=e=>t=>t.some(r=>r.every(n=>wi(n)));var je,Xt;function Si(e,t,r,n){!r||Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function W(e,t,r){return t=Ai(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ai(e){var t=Oi(e,"string");return typeof t=="symbol"?t:String(t)}function Oi(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $i(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(s,o){return o(e,t,s)||s},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}const me=window.mobx.action,he=window.mobx.observable;function Yt(e={}){return Object.keys(e).map(t=>(e[t]||(e[t]=""),`${t}=${e[t]||""}`)).join("&")}let Qt=(je=class{constructor(){Si(this,"lookups",Xt,this),W(this,"items",{}),W(this,"key",me((t,r)=>{const n=`code=${t}&${Yt(r)}`;return this.items[n]||(this.items[n]=he.array([]),de.post("/custom/common/dataStorage/getDataStorageDetails",{code:t,parameters:r}).then(me(a=>{this.items[n].replace(a)}))),this.items[n]})),W(this,"key2",me((t,r)=>{const n=`code=${t}&${Yt(r)}`;return this.items[n]=he.array([]),de.post("/custom/common/dataStorage/getDataStorageDetails",{code:t,parameters:r})})),W(this,"all",()=>(this.lookups||(this.lookups=he([]),de.get("/custom/common/dataStorage/getDataStorageConfig").then(me(t=>this.lookups=t))),this.lookups)),W(this,"getParameters",t=>{var n;const r=(n=this.lookups)==null?void 0:n.find(a=>a.value===t);return r==null?void 0:r.parameters})}},Xt=$i(je.prototype,"lookups",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je);var xi=new Qt;const Di=()=>{const e=new Qt;return t=>{const{type:r,code:n,params:a}=t;if(r==="lookup"&&n)return e.key(n,a)}};function Me(e){return typeof e=="function"}function Pi(e){return typeof e=="object"&&Me(e.then)&&Me(e.catch)&&Me(e.finally)}var K=Object.assign({},{lookup:xi,featchData:Di,isPromise:Pi,history:{goBack:()=>null,go:()=>null,push:()=>null,replace:()=>null},createEvent:gi,createValidate:Ei,getUuid:e=>{function t(){return((1+Math.random())*65536|0).toString(16).substring(1)}return e==="hash"?`${t()}${t()}`:t()+"-"+t()+"-"+t()+"-"+t()},loadCSS(e){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.head.appendChild(t)},loadScript:Hn,convertToTree:qn,getSpecificValues:Kn});const Zt=window.React,er=window.React.forwardRef,tr=window.React.useContext,V=window.React.useState,G=window.mobxReact.observer,be=window.mobx,Ci=window.dayjs,_i=window._,Ti=window.i18next;function ki(e,t={}){const r=location.href;if(!r||r.indexOf("?")===-1)return t;const a=r.substring(r.indexOf("?")+1).split(/[&=]/),i=f({},t);for(let s=0;s<a.length;s+=2)e.includes(a[s])&&(i[a[s]]=decodeURIComponent(a[s+1]));return i}function Ri(e){return(t,r)=>{const n=G(t);return er((a,i)=>{const s={};if(e&&e.length)for(const c of e)s[c.key]=tr(ye.contexts[c.context]);const[o]=V(()=>new r(a,s));return Object.assign(o,s),O(n,y(f(f({},a),s),{forwardRef:i,store:o}))})}}function Bi(e){return(t,r)=>{const n=G(t);return a=>{const i={};if(e&&e.length)for(const o of e)i[o.key]=tr(ye.contexts[o.context]);const[s]=V(()=>new r(a,i));return Object.assign(s,i),O(n,y(f(f({},a),i),{store:s}))}}}function Ii(e,t){const r=G(e);return er((n,a)=>{const[i]=V(()=>new t(f({},n)));return O(r,y(f({},n),{forwardRef:a,store:i}))})}function Li(e,t){const r=G(e);return n=>{const[a]=V(()=>new t(f({},n)));return O(r,y(f({},n),{store:a}))}}function Ui(e,t){const r=G(e);return n=>{const[a,i]=V(),[[s,o]]=V(()=>[new t(f({},n)),()=>i(Date.now())]);return O(Wt.Provider,{value:{store:s,reload:o},children:O(r,y(f({},n),{"page-id":a,store:s}))})}}const Fi=(e,t,r)=>{const n=be.observable.box(r);Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{const a=n.get();return be.isObservableArray(a)?be.toJS(a):a},set:a=>(n.set(a),a)})},ye={mModules:f({},ui),contexts:f({},ci)},zi=e=>ye.mModules[e]||(()=>O("span",{children:e})),Ni={withPage:Ui,withFun:Li,withContext:Bi,withRef:Ii,withRefAndContext:Ri,_initializerDefineProperty:Fi,getAllQueryParam:ki,mobx:be,utils:K,i18next:Ti,dayjs:Ci,React:Zt,h:Zt.createElement,m:zi,_:_i,state:ye},ga=e=>new Function("global",e)(ReactGtssForm.config||Ni);export{h as A,ya as B,pa as C,ba as D,ha as E,ma as F,R as G,da as H,Wi as I,nt as J,oi as K,it as L,Zi as M,at as N,ga as O,la as P,Ji as Q,Hi as R,Wt as S,ra as T,ca as U,Vn as V,ia as W,aa as X,Qi as Y,ii as Z,I as a,de as b,Gi as c,Ni as d,qn as e,ye as f,Kn as g,K as h,Ki as i,ua as j,Lt as k,Hn as l,Vi as m,ea as n,Ee as o,na as p,Mn as q,sa as r,rt as s,oa as t,Jt as u,z as v,Ie as w,Xn as x,Er as y,ta as z};

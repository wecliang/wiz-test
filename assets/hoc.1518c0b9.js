var er=Object.defineProperty,tr=Object.defineProperties;var rr=Object.getOwnPropertyDescriptors;var Me=Object.getOwnPropertySymbols;var nr=Object.prototype.hasOwnProperty,ir=Object.prototype.propertyIsEnumerable;var qe=(t,e,r)=>e in t?er(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,f=(t,e)=>{for(var r in e||(e={}))nr.call(e,r)&&qe(t,r,e[r]);if(Me)for(var r of Me(e))ir.call(e,r)&&qe(t,r,e[r]);return t},y=(t,e)=>tr(t,rr(e));import ar from"https://wizui-assets.oss-cn-hangzhou.aliyuncs.com/umd/arco.min.js";import{_ as X,j as C}from"./index.77b54dbf.js";function zi(t){return Object.prototype.toString.call(t)==="[object Array]"}function ve(t){return typeof t=="function"}function Ni(t){return typeof t=="object"&&ve(t.then)&&ve(t.catch)&&ve(t.finally)}function ji(t){return t.indexOf("function(")!==-1||/\)\s*=>\s*\{/.test(t)}function Mi(t){return t&&typeof t=="string"&&t.indexOf("${")!==-1}function qi(t){return t&&typeof t=="string"&&/^\$t{.+}$/.test(t)}const ge=function(){try{return!(typeof window!="undefined"&&document!==void 0)}catch{return!0}}(),sr=window.React.useEffect,or=window.React.useState,Ve=t=>{if(!ge)return localStorage.getItem(t)},Ke=(t,e)=>{if(!ge)localStorage.setItem(t,e);else return e},ur=t=>{ge||localStorage.removeItem(t)};function Vi(t,e){const[r,n]=or(Ve(t)||e),a=s=>{Ke(t,s),n(s)},i=()=>{ur(t),n(void 0)};return sr(()=>{const s=localStorage.getItem(t);s&&n(s)},[]),[r,a,i]}const cr=!1,lr=!0,fr=!0,dr=!1,pr="#165DFF",mr=220;var hr={colorWeek:cr,navbar:lr,menu:fr,footer:dr,themeColor:pr,menuWidth:mr},w,He,Je,We,Ge,Xe,Ye,Qe;function _(t,e,r,n){!r||Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function br(t,e,r){return e=yr(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yr(t){var e=vr(t,"string");return typeof e=="symbol"?e:String(e)}function vr(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x(t,e,r,n,a){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(s,o){return o(t,e,s)||s},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}const Y=window.mobx.observable,Q=window.mobx.action;let gr=(w=class{constructor(){br(this,"theme",void 0),_(this,"settings",He,this),_(this,"setSettings",Je,this),_(this,"isLoginVisible",We,this),_(this,"userInfo",Ge,this),_(this,"setUserInfo",Xe,this),_(this,"userLoading",Ye,this),_(this,"setUserLoading",Qe,this)}setIsLoginVisible(e){this.isLoginVisible=e}},He=x(w.prototype,"settings",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hr}}),Je=x(w.prototype,"setSettings",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t=>{this.settings=t}}}),We=x(w.prototype,"isLoginVisible",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x(w.prototype,"setIsLoginVisible",[Q],Object.getOwnPropertyDescriptor(w.prototype,"setIsLoginVisible"),w.prototype),Ge=x(w.prototype,"userInfo",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{permissions:{}}}}),Xe=x(w.prototype,"setUserInfo",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t=>{this.userInfo=t}}}),Ye=x(w.prototype,"userLoading",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qe=x(w.prototype,"setUserLoading",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t=>{this.userLoading=t}}}),w);var Ze=new gr,we;(function(t){t.pc="PC",t.taro="Taro",t.dashboard="Dashboard"})(we||(we={}));var et;(function(t){t.html="html",t.system="system",t.custom="custom",t.context="context"})(et||(et={}));var tt;(function(t){t.General="\u901A\u7528",t.Layout="\u5E03\u5C40",t.DataDisplay="\u6570\u636E\u5C55\u793A",t.DataEntry="\u6570\u636E\u5F55\u5165",t.Feedback="\u53CD\u9988",t.Navigation="\u5BFC\u822A",t.Others="\u5176\u4ED6"})(tt||(tt={}));var rt;(function(t){t.block="\u5757\u7EA7\u5143\u7D20",t.inline="\u5185\u8054\u5143\u7D20"})(rt||(rt={}));function wr(){const t=window.monaco;Ve("arco-theme")==="dark"?(t&&t.editor.setTheme("custom-dard"),document.body.setAttribute("arco-theme","dark")):(t&&t.editor.setTheme("vs"),document.body.removeAttribute("arco-theme"))}var S,nt,it;function at(t,e,r,n){!r||Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function T(t,e,r){return e=Er(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Er(t){var e=Sr(t,"string");return typeof e=="symbol"?e:String(e)}function Sr(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z(t,e,r,n,a){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(s,o){return o(t,e,s)||s},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}const Ar=window.mobx.action,st=window.mobx.computed,Or=window.mobx.observable,$r=window.mobx.toJS;let xr=(S=class{constructor(){T(this,"verison",void 0),T(this,"appId","gtssForm"),T(this,"tenantId",""),T(this,"platform",we.pc),T(this,"theme",void 0),T(this,"userId",""),T(this,"setTheme",e=>{this.theme=e,Ke("arco-theme",e),wr()}),at(this,"data",nt,this),at(this,"setData",it,this)}get appData(){return{data:$r(this.data)}}get appDataSchema(){return{type:"object",properties:{appId:{type:"string",description:"\u5E94\u7528ID"}}}}},nt=Z(S.prototype,"data",[Or],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),it=Z(S.prototype,"setData",[Ar],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t=>{this.data=t}}}),Z(S.prototype,"appData",[st],Object.getOwnPropertyDescriptor(S.prototype,"appData"),S.prototype),Z(S.prototype,"appDataSchema",[st],Object.getOwnPropertyDescriptor(S.prototype,"appDataSchema"),S.prototype),S);var I=new xr,Ee={exports:{}},ot=function(e,r){return function(){for(var a=new Array(arguments.length),i=0;i<a.length;i++)a[i]=arguments[i];return e.apply(r,a)}},Dr=ot,k=Object.prototype.toString;function Se(t){return k.call(t)==="[object Array]"}function Ae(t){return typeof t=="undefined"}function Pr(t){return t!==null&&!Ae(t)&&t.constructor!==null&&!Ae(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Cr(t){return k.call(t)==="[object ArrayBuffer]"}function _r(t){return typeof FormData!="undefined"&&t instanceof FormData}function Tr(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function kr(t){return typeof t=="string"}function Rr(t){return typeof t=="number"}function ut(t){return t!==null&&typeof t=="object"}function ee(t){if(k.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Br(t){return k.call(t)==="[object Date]"}function Ir(t){return k.call(t)==="[object File]"}function Lr(t){return k.call(t)==="[object Blob]"}function ct(t){return k.call(t)==="[object Function]"}function Ur(t){return ut(t)&&ct(t.pipe)}function Fr(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function zr(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Nr(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Oe(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),Se(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}function $e(){var t={};function e(a,i){ee(t[i])&&ee(a)?t[i]=$e(t[i],a):ee(a)?t[i]=$e({},a):Se(a)?t[i]=a.slice():t[i]=a}for(var r=0,n=arguments.length;r<n;r++)Oe(arguments[r],e);return t}function jr(t,e,r){return Oe(e,function(a,i){r&&typeof a=="function"?t[i]=Dr(a,r):t[i]=a}),t}function Mr(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var v={isArray:Se,isArrayBuffer:Cr,isBuffer:Pr,isFormData:_r,isArrayBufferView:Tr,isString:kr,isNumber:Rr,isObject:ut,isPlainObject:ee,isUndefined:Ae,isDate:Br,isFile:Ir,isBlob:Lr,isFunction:ct,isStream:Ur,isURLSearchParams:Fr,isStandardBrowserEnv:Nr,forEach:Oe,merge:$e,extend:jr,trim:zr,stripBOM:Mr},L=v;function lt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ft=function(e,r,n){if(!r)return e;var a;if(n)a=n(r);else if(L.isURLSearchParams(r))a=r.toString();else{var i=[];L.forEach(r,function(c,p){c===null||typeof c=="undefined"||(L.isArray(c)?p=p+"[]":c=[c],L.forEach(c,function(l){L.isDate(l)?l=l.toISOString():L.isObject(l)&&(l=JSON.stringify(l)),i.push(lt(p)+"="+lt(l))}))}),a=i.join("&")}if(a){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e},qr=v;function te(){this.handlers=[]}te.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};te.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};te.prototype.forEach=function(e){qr.forEach(this.handlers,function(n){n!==null&&e(n)})};var Vr=te,Kr=v,Hr=function(e,r){Kr.forEach(e,function(a,i){i!==r&&i.toUpperCase()===r.toUpperCase()&&(e[r]=a,delete e[i])})},dt=function(e,r,n,a,i){return e.config=r,n&&(e.code=n),e.request=a,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Jr=dt,pt=function(e,r,n,a,i){var s=new Error(e);return Jr(s,r,n,a,i)},Wr=pt,Gr=function(e,r,n){var a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):r(Wr("Request failed with status code "+n.status,n.config,null,n.request,n))},re=v,Xr=re.isStandardBrowserEnv()?function(){return{write:function(r,n,a,i,s,o){var c=[];c.push(r+"="+encodeURIComponent(n)),re.isNumber(a)&&c.push("expires="+new Date(a).toGMTString()),re.isString(i)&&c.push("path="+i),re.isString(s)&&c.push("domain="+s),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Yr=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},Qr=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},Zr=Yr,en=Qr,tn=function(e,r){return e&&!Zr(r)?en(e,r):r},xe=v,rn=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],nn=function(e){var r={},n,a,i;return e&&xe.forEach(e.split(`
`),function(o){if(i=o.indexOf(":"),n=xe.trim(o.substr(0,i)).toLowerCase(),a=xe.trim(o.substr(i+1)),n){if(r[n]&&rn.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([a]):r[n]=r[n]?r[n]+", "+a:a}}),r},mt=v,an=mt.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function a(i){var s=i;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=a(window.location.href),function(s){var o=mt.isString(s)?a(s):s;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function De(t){this.message=t}De.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};De.prototype.__CANCEL__=!0;var ne=De,ie=v,sn=Gr,on=Xr,un=ft,cn=tn,ln=nn,fn=an,Pe=pt,dn=se,pn=ne,ht=function(e){return new Promise(function(n,a){var i=e.data,s=e.headers,o=e.responseType,c;function p(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}ie.isFormData(i)&&delete s["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",d=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.Authorization="Basic "+btoa(l+":"+d)}var m=cn(e.baseURL,e.url);u.open(e.method.toUpperCase(),un(m,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function H(){if(!!u){var E="getAllResponseHeaders"in u?ln(u.getAllResponseHeaders()):null,B=!o||o==="text"||o==="json"?u.responseText:u.response,P={data:B,status:u.status,statusText:u.statusText,headers:E,config:e,request:u};sn(function(ye){n(ye),p()},function(ye){a(ye),p()},P),u=null}}if("onloadend"in u?u.onloadend=H:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(H)},u.onabort=function(){!u||(a(Pe("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){a(Pe("Network Error",e,null,u)),u=null},u.ontimeout=function(){var B=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",P=e.transitional||dn.transitional;e.timeoutErrorMessage&&(B=e.timeoutErrorMessage),a(Pe(B,e,P.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},ie.isStandardBrowserEnv()){var $=(e.withCredentials||fn(m))&&e.xsrfCookieName?on.read(e.xsrfCookieName):void 0;$&&(s[e.xsrfHeaderName]=$)}"setRequestHeader"in u&&ie.forEach(s,function(B,P){typeof i=="undefined"&&P.toLowerCase()==="content-type"?delete s[P]:u.setRequestHeader(P,B)}),ie.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&o!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(E){!u||(a(!E||E&&E.type?new pn("canceled"):E),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),i||(i=null),u.send(i)})},b=v,bt=Hr,mn=dt,hn={"Content-Type":"application/x-www-form-urlencoded"};function yt(t,e){!b.isUndefined(t)&&b.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function bn(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=ht),t}function yn(t,e,r){if(b.isString(t))try{return(e||JSON.parse)(t),b.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var ae={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:bn(),transformRequest:[function(e,r){return bt(r,"Accept"),bt(r,"Content-Type"),b.isFormData(e)||b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e)?e:b.isArrayBufferView(e)?e.buffer:b.isURLSearchParams(e)?(yt(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):b.isObject(e)||r&&r["Content-Type"]==="application/json"?(yt(r,"application/json"),yn(e)):e}],transformResponse:[function(e){var r=this.transitional||ae.transitional,n=r&&r.silentJSONParsing,a=r&&r.forcedJSONParsing,i=!n&&this.responseType==="json";if(i||a&&b.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(i)throw s.name==="SyntaxError"?mn(s,this,"E_JSON_PARSE"):s}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};b.forEach(["delete","get","head"],function(e){ae.headers[e]={}});b.forEach(["post","put","patch"],function(e){ae.headers[e]=b.merge(hn)});var se=ae,vn=v,gn=se,wn=function(e,r,n){var a=this||gn;return vn.forEach(n,function(s){e=s.call(a,e,r)}),e},vt=function(e){return!!(e&&e.__CANCEL__)},gt=v,Ce=wn,En=vt,Sn=se,An=ne;function _e(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new An("canceled")}var On=function(e){_e(e),e.headers=e.headers||{},e.data=Ce.call(e,e.data,e.headers,e.transformRequest),e.headers=gt.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),gt.forEach(["delete","get","head","post","put","patch","common"],function(a){delete e.headers[a]});var r=e.adapter||Sn.adapter;return r(e).then(function(a){return _e(e),a.data=Ce.call(e,a.data,a.headers,e.transformResponse),a},function(a){return En(a)||(_e(e),a&&a.response&&(a.response.data=Ce.call(e,a.response.data,a.response.headers,e.transformResponse))),Promise.reject(a)})},g=v,wt=function(e,r){r=r||{};var n={};function a(u,l){return g.isPlainObject(u)&&g.isPlainObject(l)?g.merge(u,l):g.isPlainObject(l)?g.merge({},l):g.isArray(l)?l.slice():l}function i(u){if(g.isUndefined(r[u])){if(!g.isUndefined(e[u]))return a(void 0,e[u])}else return a(e[u],r[u])}function s(u){if(!g.isUndefined(r[u]))return a(void 0,r[u])}function o(u){if(g.isUndefined(r[u])){if(!g.isUndefined(e[u]))return a(void 0,e[u])}else return a(void 0,r[u])}function c(u){if(u in r)return a(e[u],r[u]);if(u in e)return a(void 0,e[u])}var p={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c};return g.forEach(Object.keys(e).concat(Object.keys(r)),function(l){var d=p[l]||i,m=d(l);g.isUndefined(m)&&d!==c||(n[l]=m)}),n},Et={version:"0.24.0"},$n=Et.version,Te={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Te[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var St={};Te.transitional=function(e,r,n){function a(i,s){return"[Axios v"+$n+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return function(i,s,o){if(e===!1)throw new Error(a(s," has been removed"+(r?" in "+r:"")));return r&&!St[s]&&(St[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,s,o):!0}};function xn(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),a=n.length;a-- >0;){var i=n[a],s=e[i];if(s){var o=t[i],c=o===void 0||s(o,i,t);if(c!==!0)throw new TypeError("option "+i+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+i)}}var Dn={assertOptions:xn,validators:Te},At=v,Pn=ft,Ot=Vr,$t=On,oe=wt,xt=Dn,U=xt.validators;function J(t){this.defaults=t,this.interceptors={request:new Ot,response:new Ot}}J.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=oe(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&xt.assertOptions(r,{silentJSONParsing:U.transitional(U.boolean),forcedJSONParsing:U.transitional(U.boolean),clarifyTimeoutError:U.transitional(U.boolean)},!1);var n=[],a=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(e)===!1||(a=a&&d.synchronous,n.unshift(d.fulfilled,d.rejected))});var i=[];this.interceptors.response.forEach(function(d){i.push(d.fulfilled,d.rejected)});var s;if(!a){var o=[$t,void 0];for(Array.prototype.unshift.apply(o,n),o=o.concat(i),s=Promise.resolve(e);o.length;)s=s.then(o.shift(),o.shift());return s}for(var c=e;n.length;){var p=n.shift(),u=n.shift();try{c=p(c)}catch(l){u(l);break}}try{s=$t(c)}catch(l){return Promise.reject(l)}for(;i.length;)s=s.then(i.shift(),i.shift());return s};J.prototype.getUri=function(e){return e=oe(this.defaults,e),Pn(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};At.forEach(["delete","get","head","options"],function(e){J.prototype[e]=function(r,n){return this.request(oe(n||{},{method:e,url:r,data:(n||{}).data}))}});At.forEach(["post","put","patch"],function(e){J.prototype[e]=function(r,n,a){return this.request(oe(a||{},{method:e,url:r,data:n}))}});var Cn=J,_n=ne;function F(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(a){e=a});var r=this;this.promise.then(function(n){if(!!r._listeners){var a,i=r._listeners.length;for(a=0;a<i;a++)r._listeners[a](n);r._listeners=null}}),this.promise.then=function(n){var a,i=new Promise(function(s){r.subscribe(s),a=s}).then(n);return i.cancel=function(){r.unsubscribe(a)},i},t(function(a){r.reason||(r.reason=new _n(a),e(r.reason))})}F.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};F.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};F.prototype.unsubscribe=function(e){if(!!this._listeners){var r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}};F.source=function(){var e,r=new F(function(a){e=a});return{token:r,cancel:e}};var Tn=F,kn=function(e){return function(n){return e.apply(null,n)}},Rn=function(e){return typeof e=="object"&&e.isAxiosError===!0},Dt=v,Bn=ot,ue=Cn,In=wt,Ln=se;function Pt(t){var e=new ue(t),r=Bn(ue.prototype.request,e);return Dt.extend(r,ue.prototype,e),Dt.extend(r,e),r.create=function(a){return Pt(In(t,a))},r}var A=Pt(Ln);A.Axios=ue;A.Cancel=ne;A.CancelToken=Tn;A.isCancel=vt;A.VERSION=Et.version;A.all=function(e){return Promise.all(e)};A.spread=kn;A.isAxiosError=Rn;Ee.exports=A;Ee.exports.default=A;var ce=Ee.exports;let Ct="d3VRYzJKUmFxem1S",O;const ke="https://wizui-test-node-ko-apijson-pnnrmtijvi.cn-hangzhou.fcapp.run/codes",Un=async()=>{const t="store-public-key";if(!O){const e=localStorage.getItem(O);if(e)return O=e,ce.get(ke+"/publicKey",{}).then(({data:r})=>{O=r.data,localStorage.setItem(t,O)}),O;await ce.get(ke+"/publicKey",{}).then(({data:r})=>{O=r.data,localStorage.setItem(t,O)})}return console.log("this.pulick",O),O},Fn=async function(t){const e=await X(()=>import("./index.a637b0ce.js").then(function(i){return i.i}),["assets/index.a637b0ce.js","assets/vendor.96977194.js","assets/___vite-browser-external_commonjs-proxy.579575e7.js"]),r=await Un(),a=e.pki.publicKeyFromPem(r).encrypt(t,"RSA-OAEP");return e.util.encode64(a)};async function zn(t=16){const e=await X(()=>import("./index.a637b0ce.js").then(function(a){return a.i}),["assets/index.a637b0ce.js","assets/vendor.96977194.js","assets/___vite-browser-external_commonjs-proxy.579575e7.js"]),r=e.random.getBytesSync(t);return e.util.bytesToHex(r).slice(0,t)}const _t=t=>new Array(16).fill(t).join("").slice(0,16),Tt=async(t,e)=>{const r=await X(()=>import("./index.a637b0ce.js").then(function(c){return c.i}),["assets/index.a637b0ce.js","assets/vendor.96977194.js","assets/___vite-browser-external_commonjs-proxy.579575e7.js"]),n=r.util.createBuffer(Ct).getBytes(),a=r.util.createBuffer(t).getBytes(),i=r.cipher.createCipher("AES-CBC",a);i.start({iv:n}),i.update(r.util.createBuffer(JSON.stringify({data:e}))),i.finish();const s=i.output.getBytes();return r.util.bytesToHex(s)},kt=async(t,e,r=Ct)=>{const n=await X(()=>import("./index.a637b0ce.js").then(function(p){return p.i}),["assets/index.a637b0ce.js","assets/vendor.96977194.js","assets/___vite-browser-external_commonjs-proxy.579575e7.js"]),a=n.util.createBuffer(_t(r)).getBytes(),i=n.util.hexToBytes(e),s=n.util.createBuffer(_t(t)).getBytes(),o=n.cipher.createDecipher("AES-CBC",s);return o.start({iv:a}),o.update(n.util.createBuffer(i)),o.finish(),JSON.parse(o.output.data).data},Re=window._,Ji="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");function Wi(t){if(!Array.isArray(t))return;const e=t.filter(r=>!r.name);return{type:"object",properties:f({},e.reduce((r,n)=>Re.assign(r,{[n.name]:{type:"object",description:n.description||n.label||""}}),{}))}}const z=(t,e=["$"],{key:r=e[0],schemaPath:n=e,parent:a=null}={})=>{const i={id:jn(),type:t.type,path:e,schemaPath:n,key:r,_store:t};switch(t.type){case"array":if(t.items)if(Array.isArray(t.items))i.children=t.items.map((s,o)=>z(s,[...e,o.toString()],{key:`${o}`,parent:t,schemaPath:[...n,"items",o.toString()]}));else if(t.items.type==="object"&&t.items.properties){const s=t.items.properties,o=Object.keys(s);i.children=o.map(c=>z(s[c],[...e,"0",c],{key:c,parent:t,schemaPath:[...n,"items","properties",c]}))}else i.children=[z(t.items,[...e,"0"],{key:"0",parent:t,schemaPath:[...n,"items"]})];break;case"object":if(t.properties){const s=t.properties,o=Object.keys(s);i.children=o.map(c=>z(s[c],[...e,c],{key:c,parent:t,schemaPath:[...n,"properties",c]}))}break}return i},Gi=(t,e={})=>{const{children:r=[]}=z(t);return r.map(n=>{const{_store:a,key:i}=n,{title:s,type:o,enum:c,widget:p,format:u,default:l}=a;return{key:i,label:s||i,value:e[i]||l,format:u}})},Rt=(t,e,r={})=>{if(!t||typeof t=="string")return t;const n=t.default;let a=n;switch(t.type){case"string":a=n;break;case"object":const i=t.properties;i&&(a={},Object.keys(i).forEach(s=>{const o=Rt(i[s]);(o!==void 0||r.isNull)&&(a[s]=o)}));break;case"array":n&&Array.isArray(n)?a=n:t.items&&(Array.isArray(t.items)?a=t.items.map(s=>Rt(s)):a=[]);break;case"integer":case"number":a=n;break;case"null":a=null;break}return a},Be=(t,e={})=>{const r={type:"object"},n=typeof t;switch(n){case"bigint":r.type="integer";break;case"boolean":r.type="boolean";break;case"number":r.type="number";break;case"object":if(r.type="object",!t)r.type="null";else if(Array.isArray(t)){r.type="array";const a=t;if(a.length)if(Array.from(new Set(a.map(s=>typeof s))).length===1){let s=a[0];if(typeof s=="object"&&!Array.isArray(s)&&(s=a.reduce((o,c)=>Object.assign(o,c),{})),r.items=Be(s,Array.isArray(e==null?void 0:e.items)?e==null?void 0:e.items[0]:e==null?void 0:e.items),r.items.type==="object"){const o=r.items.properties;o&&(r.items.required=Object.keys(o).filter(c=>a.every(p=>c in p)))}}else r.items=a.map((s,o)=>Be(s,Array.isArray(e==null?void 0:e.items)?e==null?void 0:e.items[o]:o===1?e==null?void 0:e.items:void 0));else r.items=e.items}else{const a={};Object.keys(t).forEach(i=>{a[i]=Be(t[i],(e==null?void 0:e.properties)?e.properties[i]:void 0)}),r.properties=a}break;case"string":r.type="string";break;case"undefined":r.type="string";break}return(e==null?void 0:e.type)===r.type&&Re.assign(r,Re.omit(e,["properties","items"])),(n!=="object"||Array.isArray(t))&&(r.default=t),r},Bt=window._,Nn=window.arco.Modal,jn=t=>{function e(){return((1+Math.random())*65536|0).toString(16).substring(1)}return t==="hash"?`${e()}${e()}`:e()+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},Xi=async t=>{try{return await navigator.clipboard.writeText(t),!0}catch{return new Promise(r=>{const n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("Copy"),document.body.removeChild(n),r(!0)})}},It=()=>{Nn.confirm({title:"\u63D0\u793A",content:"\u60A8\u5F53\u524D\u8FD8\u672A\u767B\u9646\uFF0C\u70B9\u51FB\u53BB\u767B\u9646\u8D26\u53F7",onOk:()=>{window.open("https://wfm-s.gaiaworkforce.com/")}})},Yi=t=>{let e=!1;return(...r)=>{if(!e)return t(...r).finally(()=>{e=!1})}},Qi=(t,e=300)=>{let r=null;return(...n)=>{r&&clearTimeout(r),r=setTimeout(()=>t(...n),e)}};function Mn(t,e="id",r="parentId"){const n={},a=[];for(let i=0;i<t.length;i++){const{[e]:s}=t[i],o=[];n[s]=y(f({},t[i]),{children:o})}for(let i=0;i<t.length;i++){const{[e]:s,[r]:o}=t[i],c=n[o];c?c.children.push(n[s]):a.push(n[s])}return a}function Zi(t,e,r="id"){let n=null;const a=i=>{for(const s of i){if(s[r]===e){n=s;break}s.children&&a(s.children)}};return a(t),n}function qn(t,e){const r=(n,a=null)=>{const i=[];for(const s of n){let o={};typeof e=="function"?o=e(s,a):e.forEach(c=>{s[c]&&(o[c]=s[c])}),Array.isArray(s.children)&&s.children.length>0&&(o.children=r(s.children,o)),i.push(o)}return i};return r(t)}function Vn(t,e){return t.map(r=>{if(e(r))return r;if(r.children){const n=Vn(r.children,e);if(n.length>0)return y(f({},r),{children:n,toggled:!0})}return null}).filter(r=>r!==null)}const ea=(t,e)=>{if(!e||!t)return"";const r=t.substring(t.indexOf("?")+1).split(/[&=]/),n=r.indexOf(e);return n!==-1&&n%2==0?decodeURIComponent(r[n+1]):""};function ta(t,e){let r=e;typeof r=="string"&&(r=r.split(/\.|\[|\]\.?/).filter(a=>a!==""));let n=t;for(const a of r)if(n&&n.properties&&n.properties[a])n=n.properties[a];else if(n&&n.items)if(Array.isArray(n.items)){const i=parseInt(a,10);if(!isNaN(i)&&n.items[i])n=n.items[i];else{n=null;break}}else n.items.properties&&n.items.properties[a]?n=n.items.properties[a]:n=n.items;else{n=null;break}return n}const ra=t=>{if(!t&&!t.properties)return t;const e={type:"object",properties:{}},r=Object.keys(t.properties);for(const n of r){const a=t.properties[n],i=f({},a),{format:s}=a;switch(s){case"date":i.type="array",i.format="dateRange";break;case"dateTime":i.type="array",i.format="dateRange",i.fieldProps=y(f({},a.fieldProps),{showTime:!0});break;case"time":i.type="array",i.format="time",i.fieldProps=y(f({},a.fieldProps),{showTime:!0});break;default:if(a.type=="array"&&a.enum){let o=a.enum;typeof a.enum[0]=="object"&&(o=a.enum.map(c=>c.value)),i.enum=o}}e.properties[n]=i}return e},na=t=>{const e=z(t).children||[];return(n=>n?n.map(a=>{const{_store:i,key:s}=a,{title:o,type:c,enum:p,widget:u,columnProps:l,format:d}=i;return c=="object"?null:f({title:o||s,align:["number","integer"].includes(c)?"right":"left",dataIndex:s,widget:u,valueEnum:p&&p.reduce((H,$)=>typeof $=="object"?Bt.assign(H,{[$.value]:$}):Bt.assign(H,{[$]:{label:$}}),{})},l)}).filter(a=>a):[])(e)};function ia(t,e){let r=e?document.getElementById(e):null;r||(r=document.createElement("style"),r.type="text/css",r.setAttribute("id",e),r.innerHTML=t,document.head.appendChild(r)),r.innerHTML=t,console.log("style",r)}function aa(t){const r=t.toLowerCase().split("_");return r[0]+r.slice(1).map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join("")}const Kn=t=>new Promise((e,r)=>{const n=document.createElement("script");n.src=t,n.setAttribute("type","module"),n.onload=a=>{console.log("loadScript",a,t),e(!0)},n.onerror=r,document.head.appendChild(n)}),Ie=window.arco.Message,Lt=window._,Ut=async(t,e)=>{const r={appid:I.appId,tenantid:I.tenantId,userid:I.userId};Vt.userToken&&(r.Authorization=`Bearer ${Vt.userToken}`);let n;if(e.encrypt||e.decrypt){if(n=await zn(16),e.encrypt){if(e.encrypt==="all")t={data:await Tt(n,t)};else for(const a of e.encrypt){const i=Lt.get(t,a);i&&Lt.set(t,a,await Tt(n,i))}r.encrypt=Array.isArray(e.encrypt)?e.encrypt.join(","):e.encrypt}r.encryptkey=await Fn(n)}return{cryptKey:n,headers:r,body:t}},Le={},le=async(t="get",e,r,n={})=>{const{cryptKey:a,headers:i,body:s}=await Ut(f({},r),n);let o=e.slice(0,4)=="http"?e:ke+e;n.notHttp&&(o=e);const c=`apiKey-${JSON.stringify(s)}`;if(n.cache&&Le[c])return Le[c];const p=new Promise((u,l)=>{ce.request({method:t,url:o,params:["get","delete"].includes(t)?s:void 0,data:s,headers:Object.assign(i,n.headers||{})}).then(async d=>{let m=d.data;if(n.decrypt&&(m=await kt(a,m)),typeof m=="object"&&"code"in m){if(m.code===0)return u(m);l(m),m.msg&&Ie.error(m.msg)}(d.status===401||d.status===800)&&It(),u(m)}).catch(d=>{console.log("ajax-error",d);const m=d.response&&d.response.data;typeof m=="object"&&(m.code===401?It():m.msg&&Ie.error(m.msg)),l(d)})});return Le[c]=p,p};var fe={post:(t,e,r)=>le("post",t,e,r),get:(t,e,r)=>le("get",t,e,r),del:(t,e,r)=>le("delete",t,e,r),put:(t,e,r)=>le("put",t,e,r),request:async(t="GET",e,r={},n={})=>{let a=r;const{cryptKey:i,headers:s}=await Ut(a,n),o=e.indexOf("http")!==-1?e:`/wizapi${e}`;return new Promise((c,p)=>{ce.request({method:t,url:o,data:a,headers:Object.assign(s,n.headers||{})}).then(async u=>{let l=u.data;n.decrypt&&(l=await kt(i,l)),c(y(f({},u),{data:l}))}).catch(u=>{const l=u.response&&u.response.data;typeof l=="object"&&l.msg&&Ie.error(l.msg),c(u.response)})})}};const Hn=window;var Jn=f({ENV:"local",CDNURL:"https://wizui-assets.oss-cn-hangzhou.aliyuncs.com",TokenKey:"TS-CODE-AUTH_TOKEN"},Hn.publicConfig||{});const Wn=window;var Gn=f(y(f({},Jn),{ENV:"prod",CDNURL:"https://wizui-assets.oss-cn-hangzhou.aliyuncs.com"}),Wn.publicConfig||{}),D,Ft,zt,Nt,jt,Mt,qt;function N(t,e,r,n){!r||Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ue(t,e,r){return e=Xn(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xn(t){var e=Yn(t,"string");return typeof e=="symbol"?e:String(e)}function Yn(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j(t,e,r,n,a){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(s,o){return o(t,e,s)||s},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}const Fe=window.mobx.action,ze=window.mobx.observable,de=Gn.TokenKey;let Qn=(D=class{constructor(){Ue(this,"userToken",this.getToken()),Ue(this,"setUserToken",e=>{this.userToken=e,this.setToken(e),localStorage.setItem("userStatus","login")}),N(this,"user",Ft,this),N(this,"setUserInfo",zt,this),N(this,"publishReady",Nt,this),N(this,"isLoaging",jt,this),Ue(this,"getUserToken",async()=>fe.post("/user/getUserToken",{user:this.user},{encrypt:"all"}).then(e=>{this.setUserToken(e.data.token),Ze.setUserLoading(!0)})),N(this,"onLogin",Mt,this),N(this,"getUserInfo",qt,this)}getToken(){const e=localStorage.getItem(`${de}-express`),r=localStorage[de];if(r&&e&&Date.now().toString()<e)return r}setToken(e,r=6){localStorage.setItem(de,e);const n=r*3600*1e3+Date.now();localStorage.setItem(`${de}-express`,n.toString())}},Ft=j(D.prototype,"user",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),zt=j(D.prototype,"setUserInfo",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t=>{this.user=t,I.userId=t.userID,I.tenantId=t.tenant,I.appId=t.tenant,Ze.setUserLoading(!0)}}}),Nt=j(D.prototype,"publishReady",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jt=j(D.prototype,"isLoaging",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mt=j(D.prototype,"onLogin",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async t=>{this.setUserInfo(t),this.getUserToken()}}}),qt=j(D.prototype,"getUserInfo",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t=>{}}}),D);var Vt=new Qn;const Zn=window.React,Kt=Zn.createContext(null),ei=window._,ti=window.arco,ri=ar,ni=ri.reduce((t,e)=>y(f({},t),{[e.key]:ei.get(ti,e.name)}),{}),ii={system_pagecontext:Kt};var Ht;(function(t){t.api="api",t.traverse="traverse",t.filter="filter"})(Ht||(Ht={}));var M;(function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE"})(M||(M={}));var h;(function(t){t.history="history",t.href="href",t.message="message",t.form="form",t.table="table",t.busItem="busItem",t.dialog="dialog",t.api="api",t.task="task",t.download="download"})(h||(h={}));const oa=[{value:h.history,label:"\u8DEF\u7531"},{value:h.href,label:"\u8D85\u94FE\u63A5"},{value:h.message,label:"\u63D0\u793A"},{value:h.form,label:"\u4E1A\u52A1\u8868\u5355"},{value:h.table,label:"\u9AD8\u7EA7\u8868\u683C"},{value:h.busItem,label:"\u4E1A\u52A1\u5B50\u8868"},{value:h.dialog,label:"\u5BF9\u8BDD\u6846"},{value:h.api,label:"\u63A5\u53E3"},{value:h.task,label:"\u4EFB\u52A1\u7F16\u6392"},{value:h.download,label:"\u4E0B\u8F7D"}],ua=[{label:"get",value:M.GET},{label:"post",value:M.POST},{label:"put",value:M.PUT},{label:"del",value:M.DELETE}];var R;(function(t){t.push="push",t.replace="replace",t.go="go",t.goBack="goBack"})(R||(R={}));const ca=[{value:"push",label:"\u8DF3\u8F6C\u9875\u9762"},{value:"replace",label:"\u66FF\u6362\u5F53\u524D\u9875\u9762"},{value:"go",label:"\u56DE\u9000"},{value:"goBack",label:"\u56DE\u5230\u4E0A\u4E00\u9875"}];var q;(function(t){t.self="_self",t.blank="_blank",t.parent="_parent",t.top="_top"})(q||(q={}));const la=[{value:q.self,label:"\u5F53\u524D\u9875\u9762"},{value:q.blank,label:"\u65B0\u7684\u7A97\u53E3"},{value:q.parent,label:"\u7236\u7EA7\u6D4F\u89C8\u5668"},{value:q.top,label:"\u6700\u9876\u7EA7\u6D4F\u89C8\u5668"}],fa=[{value:"success",label:"\u6210\u529F\u63D0\u793A"},{value:"error",label:"\u9519\u8BEF\u63D0\u793A"},{value:"warning",label:"\u8B66\u544A\u63D0\u793A"},{value:"tips",label:"\u4FE1\u606F\u63D0\u793A"}],da=[{label:"\u6253\u5F00\u5F39\u7A97",value:"open"},{label:"\u5173\u95ED\u5F39\u7A97",value:"close"}],ai=t=>async()=>{if(!t.history||!V.history)return;const{type:e,path:r,count:n,params:a}=t.history;switch(e){case R.goBack:V.history.goBack();break;case R.go:V.history.go(n);break;case R.push:case R.replace:let i=r;if(Array.isArray(a)){const s=a.filter(o=>o.enable&&o.name).map(o=>`${o.name}=${o.value}`);s.length&&(i=`${i}?${s.join("&")}`)}R.push===e?V.history.push(i):V.history.replace(i)}},si=t=>async()=>{if(!t.href)return;const{target:e,params:r}=t.href;let n=t.href.url;if(!!n){if(Array.isArray(r)){const a=r.filter(i=>i.enable&&i.name).map(i=>`${i.name}=${i.value}`);a.length&&(n=`${n}?${a.join("&")}`)}window.open(n,e)}},oi=t=>async()=>{if(!t.message)return;const{text:e,type:r}=t.message;window.$feedback(e,r)},ui=(t,e)=>async()=>{const{key:r,eventType:n}=t.form||{};if(!e.forms[r])throw Error(`\u5F53\u524D\u4E1A\u52A1\u8868\u5355\u4E0D\u5B58\u5728\uFF1A${r}`);console.log("formStore",t.form,e.forms[r]);const a=e.forms[r];console.log("getValidationConfig",a.getValidationConfig()),n==="validate"?a.validate()||Promise.reject("\u8868\u5355\u6821\u9A8C\u5931\u8D25"):n==="submit"&&await a.validate()},ci=(t,e)=>async()=>{const{key:r,tableKey:n,eventType:a}=t.busItem||{};if(console.log("createBusItemEvent",t.busItem),!e.forms[r])throw Error(`\u5F53\u524D\u4E1A\u52A1\u8868\u5355\u4E0D\u5B58\u5728\uFF1A${r}`);if(!n)throw Error("\u672A\u7ED1\u5B9A\u5B50\u8868");const i=e.forms[r];switch(a){case"add":i.data[n]?i.assign({[n]:[...i.data[n],{}]}):i.assign({[n]:[{}]});break}},li=t=>async()=>{console.log("createApiEvent")};function fi(t,e){return async()=>{if(!t.dialog)return;const{key:r,type:n}=t.dialog;if(e.dialogs[r]){const a=e.dialogs[r];n==="open"&&a.methods.open()}console.log("createDialogEvent")}}const di=t=>async()=>{console.log("createDownloadEvent")},pi=t=>async()=>{console.log("createTaskEvent")},mi=t=>{const e=r=>{switch(r.type){case h.history:return ai(r);case h.form:return ui(r,t);case h.busItem:return ci(r,t);case h.message:return oi(r);case h.api:return li();case h.dialog:return fi(r,t);case h.download:return di();case h.href:return si(r);case h.task:return pi()}return()=>{alert("createEvent")}};return r=>async()=>{const{all:n}=r,a=(n||[]).map(s=>e(s));if(await e(r)(),a.length)for(const s of a)await s()}},hi=t=>{const e=t.op,r=t.value,n=t.field;switch(e){case"=":return n==r;case"!=":return n!=r;case">":return n>r;case"<":return n<r;case">=":return n>=r;case"<=":return n<=r;case"between":if(Array.isArray(r)){const[i,s]=r;return n>=i&&n<=s}else return!1;case"in":return Array.isArray(r)?r.includes(n):!1;case"link":if(typeof r=="string"){const i=new RegExp(`^${r.replace(/\%/g,".*")}$`);return n.search(i)!==-1}else return!1;case"notIn":return Array.isArray(r)?!r.includes(n):!1;case"regexp":return new RegExp(r).test(n)}return!1},bi=t=>e=>e.some(r=>r.every(n=>hi(n)));var Ne,Jt;function yi(t,e,r,n){!r||Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function W(t,e,r){return e=vi(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vi(t){var e=gi(t,"string");return typeof e=="symbol"?e:String(e)}function gi(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wi(t,e,r,n,a){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(s,o){return o(t,e,s)||s},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}const pe=window.mobx.action,me=window.mobx.observable;function Wt(t={}){return Object.keys(t).map(e=>(t[e]||(t[e]=""),`${e}=${t[e]||""}`)).join("&")}let Gt=(Ne=class{constructor(){yi(this,"lookups",Jt,this),W(this,"items",{}),W(this,"key",pe((e,r)=>{const n=`code=${e}&${Wt(r)}`;return this.items[n]||(this.items[n]=me.array([]),fe.post("/custom/common/dataStorage/getDataStorageDetails",{code:e,parameters:r}).then(pe(a=>{this.items[n].replace(a)}))),this.items[n]})),W(this,"key2",pe((e,r)=>{const n=`code=${e}&${Wt(r)}`;return this.items[n]=me.array([]),fe.post("/custom/common/dataStorage/getDataStorageDetails",{code:e,parameters:r})})),W(this,"all",()=>(this.lookups||(this.lookups=me([]),fe.get("/custom/common/dataStorage/getDataStorageConfig").then(pe(e=>this.lookups=e))),this.lookups)),W(this,"getParameters",e=>{var n;const r=(n=this.lookups)==null?void 0:n.find(a=>a.value===e);return r==null?void 0:r.parameters})}},Jt=wi(Ne.prototype,"lookups",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne);var Ei=new Gt;const Si=()=>{const t=new Gt;return e=>{const{type:r,code:n,params:a}=e;if(r==="lookup"&&n)return t.key(n,a)}};function je(t){return typeof t=="function"}function Ai(t){return typeof t=="object"&&je(t.then)&&je(t.catch)&&je(t.finally)}var V=Object.assign({},{lookup:Ei,featchData:Si,isPromise:Ai,history:{goBack:()=>null,go:()=>null,push:()=>null,replace:()=>null},createEvent:mi,createValidate:bi,getUuid:t=>{function e(){return((1+Math.random())*65536|0).toString(16).substring(1)}return t==="hash"?`${e()}${e()}`:e()+"-"+e()+"-"+e()+"-"+e()},loadCSS(t){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=t,document.head.appendChild(e)},loadScript:Kn,convertToTree:Mn,getSpecificValues:qn});const Xt=window.React,Yt=window.React.forwardRef,Qt=window.React.useContext,K=window.React.useState,G=window.mobxReact.observer,he=window.mobx,Oi=window.dayjs,$i=window._,xi=window.i18next;function Di(t,e={}){const r=location.href;if(!r||r.indexOf("?")===-1)return e;const a=r.substring(r.indexOf("?")+1).split(/[&=]/),i=f({},e);for(let s=0;s<a.length;s+=2)t.includes(a[s])&&(i[a[s]]=decodeURIComponent(a[s+1]));return i}function Pi(t){return(e,r)=>{const n=G(e);return Yt((a,i)=>{const s={};if(t&&t.length)for(const c of t)s[c.key]=Qt(be.contexts[c.context]);const[o]=K(()=>new r(a,s));return Object.assign(o,s),C(n,y(f(f({},a),s),{forwardRef:i,store:o}))})}}function Ci(t){return(e,r)=>{const n=G(e);return a=>{const i={};if(t&&t.length)for(const o of t)i[o.key]=Qt(be.contexts[o.context]);const[s]=K(()=>new r(a,i));return Object.assign(s,i),C(n,y(f(f({},a),i),{store:s}))}}}function _i(t,e){const r=G(t);return Yt((n,a)=>{const[i]=K(()=>new e(f({},n)));return C(r,y(f({},n),{forwardRef:a,store:i}))})}function Ti(t,e){const r=G(t);return n=>{const[a]=K(()=>new e(f({},n)));return C(r,y(f({},n),{store:a}))}}function ki(t,e){const r=G(t);return n=>{const[a,i]=K(),[[s,o]]=K(()=>[new e(f({},n)),()=>i(Date.now())]);return C(Kt.Provider,{value:{store:s,reload:o},children:C(r,y(f({},n),{"page-id":a,store:s}))})}}const Ri=(t,e,r)=>{const n=he.observable.box(r);Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:()=>{const a=n.get();return he.isObservableArray(a)?he.toJS(a):a},set:a=>(n.set(a),a)})},be={mModules:f({},ni),contexts:f({},ii)},Bi=t=>be.mModules[t]||(()=>C("span",{children:t})),Ii={withPage:ki,withFun:Ti,withContext:Ci,withRef:_i,withRefAndContext:Pi,_initializerDefineProperty:Ri,getAllQueryParam:Di,mobx:he,utils:V,i18next:xi,dayjs:Oi,React:Xt,h:Xt.createElement,m:Bi,_:$i,state:be},ma=t=>new Function("global",t)(ReactGtssForm.config||Ii);export{h as A,da as B,ua as C,fa as D,la as E,ca as F,R as G,oa as H,qi as I,et as J,ri as K,tt as L,Wi as M,rt as N,ma as O,aa as P,Mi as Q,ji as R,Kt as S,Yi as T,ia as U,Vn as V,Zi as W,ea as X,Ji as Y,I as a,fe as b,Vi as c,Ii as d,Mn as e,be as f,qn as g,V as h,zi as i,na as j,Rt as k,Kn as l,Ni as m,Gi as n,we as o,Qi as p,jn as q,ta as r,Ze as s,ra as t,Vt as u,z as v,Be as w,Gn as x,wr as y,Xi as z};
